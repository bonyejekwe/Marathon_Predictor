<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">


<!--
Font-awesome icons ie github or twitter
-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/brands.css" integrity="sha384-n9+6/aSqa9lBidZMRCQHTHKJscPq6NW4pCQBiMmHdUCvPN8ZOg2zJJTkC7WIezWv" crossorigin="anonymous">

<!--
Google fonts api stuff
-->
<link href='https://fonts.googleapis.com/css?family=FF Real' rel='stylesheet'>



<title>Quantifying Uncertainty in Marathon Finish Time Predictions</title>






<style>
@page {
size: 36in 24in;
margin: 0;
padding: 0;
}
body {
margin: 0;
font-size: 40px;
width: 36in;
height: 24in;
padding: 0;
text-align: justify;
font-family: FF Real;
}
.poster_wrap {
width: 36in;
height: 24in;
padding: 0cm;
}
.title_container {
width: 36in;
height: calc(24in * 0.15);
overflow: hidden;
background-color: #A81616;
border: 0.5cm solid #A81616;
}
.logo_left {
float: left;
width: 10%;
height: 100%;
background-color: #A81616;
display: flex;
align-items: center;
justify-content: center;
}
.logo_right {
float: right;
width: 10%;
height: 100%;
background-color: #A81616;
display: flex;
align-items: center;
justify-content: center;
}
.poster_title {
text-align: center;
position: relative;
float: left;
width: 80%;
height: 100%;
color: #FFFFFF;
top: 50%;
transform: translateY(-50%);
-webkit-transform: translateY(-50%);
}
#title {
font-family: FF Real;
}
/* unvisited link */
a:link {
color: #cc0000;
}
.mybreak {
  break-before: column;
}
/* visited link */
a:visited {
color: #cc0000;
}

/* mouse over link */
a:hover {
color: #cc0000;
}

/* selected link */
a:active {
color: #cc0000;
}
.poster_body {
-webkit-column-count: 3; /* Chrome, Safari, Opera */
-moz-column-count: 3; /* Firefox */
column-count: 3;
-webkit-column-fill: auto;
-moz-column-fill: auto;
column-fill: auto;
-webkit-column-rule-width: 1mm;
-moz-column-rule-width: 1mm;
column-rule-width: 1mm;
-webkit-column-rule-style: dashed;
-moz-column-rule-style: dashed;
column-rule-style: dashed;
-webkit-column-rule-color: #A81616;
-moz-column-rule-color: #A81616;
column-rule-color: #A81616;
column-gap: 0.5cm;
padding-left: calc(0.5cm / 2);
padding-right: calc(0.5cm / 2);
height: 100%;
color: #A81616
background-color: #ffffff;
}
.poster_title h1 {
font-size: 60pt;
margin: 0;
border: 0;
font-weight: normal;
}
.poster_body_wrap{
width: calc(36in + 0.5cm + 0.5cm);
height: calc(24in * 0.83);
padding-top: calc(24in * 0.005);
padding-bottom: calc(24in * 0.01);
background-color: #ffffff;
}
.poster_title h3 {
color: #FFFFFF;
font-size: 35pt;
margin: 0;
border: 0;
font-weight: normal;
}
.poster_title h3 > sup {
  font-size: 35pt;
  margin-left: 0.02em;
}
.poster_title h5 {
color: #FFFFFF;
font-size: ;
margin: 0;
border: 0;
font-weight: normal;
}
img {
margin-top: 2cm;
margin-bottom: 0;
}
.section {
  padding: 0.2em;
}
.poster_body h1 {
text-align: center;
color: #FFFFFF;
font-size: 40pt;
border: 2mm solid #A81616;
background-color: #A81616;
border-radius: 4mm 0mm;
margin-top: 2mm;
margin-bottom: 2mm;
font-weight: normal;
}
.poster_body h2 {
color: #000000;
font-size: 40pt;
padding-left: 4mm;
font-weight: normal;
}
.span {
width: 200%;
}
/* center align leaflet map,
from https://stackoverflow.com/questions/52112119/center-leaflet-in-a-rmarkdown-document */
.html-widget {
margin: auto;
position: sticky;
margin-top: 2cm;
margin-bottom: 2cm;
}
.leaflet.html-widget.html-widget-static-bound.leaflet-container.leaflet-touch.leaflet-fade-anim.leaflet-grab.leaflet-touch-drag.leaflet-touch-zoom {
position: sticky;
width: 100%;
}
pre.sourceCode.r {
background-color: #dddddd40;
border-radius: 4mm;
padding: 4mm;
width: 75%;
/* align-items: center; */
margin: auto;
padding-left: 2cm;
}
code.sourceCode.r{
background-color: transparent;
font-size: 20pt;
border-radius: 2mm;
}
.caption {
font-size: 25pt;
}
.table caption {
font-size: 25pt;
padding-bottom: 3mm;

}
code {
font-size: 1em;
font-family: monospace;
background-color: #A8161624;
color: #A81616;
padding: 1.2mm;
border-radius: 2mm;
}
.poster_title code {
font-size: 1em;
}
table {
font-size: 40px;
margin: auto;
border-top: 3px solid #666;
border-bottom: 3px solid #666;
}
table thead th {
border-bottom: 3px solid #ddd;
}
td {
padding: 8px;
}
th {
padding: 15px;
}
caption {
margin-bottom: 10px;
}
.poster_body p {
margin-right: 4mm;
margin-left: 4mm;
margin-top: 6mm;
margin-bottom: 10mm;
}
.poster_body ol {
margin-right: 4mm;
margin-left: 4mm;
}
#ul {
margin-right: 4mm;
margin-left: 4mm;
}
.references p {
font-size: 20pt;
}
.orcid img {
  width: 1em;
}
</style>
</head>
<body>


<div class="poster_wrap">
<div class="title_container">
<!-- Left Logo  -->
<div class="logo_left">
<img src= 'logo.png' style="width: 80%">
</div>
<!-- Poster Title -->
<div class= "poster_title">
<h1 id="title">Quantifying Uncertainty in Marathon Finish Time Predictions</h1>
<h3 id="author">Brandon Onyejekwe<sup>1</sup>, Eric Gerber<sup>1</sup></h3><br>
<h5 id="affiliation"><sup></sup> Khoury College of Computer Sciences, Northeastern University</h5>
</div>
<!-- Right Logo  -->
<div class="logo_right">
<img src=QR_code.png style="width: 80%">
</div>
</div>

<div class='poster_body_wrap'>
<div class='poster_body'>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In the middle of a marathon, a runner’s expected finish time is commonly estimated by extrapolating the average pace covered so far, assuming it to be constant for the rest of the race. These predictions have two key issues:</p>
<ol style="list-style-type: decimal">
<li>the estimates do not consider the in-race context that can determine if a runner is likely to finish faster or slower than expected</li>
<li>the prediction is a single point estimate with no information about uncertainty.</li>
</ol>
<p>We implement two approaches to address these issues: Bayesian linear regression and quantile regression. Both methods incorporate multiple pieces of information from the race and allow us to quantify uncertainty around the predicted finish times.</p>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>We scraped Boston Marathon finisher results from the Boston Athletic Association (BAA) website. Our dataset contains the name, age, gender, and splits (5K, 10K, 15K, 20K, HALF, 25K, 30K, 35K, 40K, and FINISH, all in seconds) for every finishing runner of the Boston Marathon from 2009-2023 (312,805 total). We partitioned this data into a training set (286,777 runners from 2009-2022) and a test set (26,028 runners from 2023).</p>
</div>
<div id="method" class="section level1">
<h1>Method</h1>
<p>The traditional method of extrapolating the current pace (<strong>Method A</strong>) is used as a baseline. We examine three additional possible linear relationships between a runner’s splits and their finish time:</p>
<ul>
<li><strong>Method B</strong>: the overall pace so far is a single predictor</li>
<li><strong>Method C</strong>: the overall pace so far and the “current pace” (the pace of the most recent 5K) are the predictors</li>
<li><strong>Method D</strong>: all previous splits are used as predictors</li>
</ul>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>Method C outperforms Methods A and B when comparing prediction root mean squared error (RMSE). Method D has very similar performance to Method C, but has problems with collinearity, as a runner’s previous splits are strongly correlated with each other. Thus, we decide to use the <strong>Method C</strong> relationship to implement both Bayesian and quantile regression.</p>
<p>As shown in Figure 1, the two models have very similar test RMSE at all levels of the race. Both improve upon the traditional method at all levels, and significantly outperform it in the middle stages of the race. It is important to have better finish estimates here, as there is the greatest amount of uncertainty in the middle of the race.</p>
<center>
<div class="figure">
<img src="all_errors.png" width="520" alt="" />
<p class="caption"><em>Fig.1 - RMSE at different stages of the race for the traditional method (orange), Bayesian regression (blue) and quantile linear regression (green).</em></p>
</div>
</center>
<p>Additionally, we perform checks on the models to confirm they fit our assumptions. In Figure 2, we show that the credible interval sizes, on average, decrease as one gets further into the race, fitting with the intuition that one should be more certain of the estimate as they get closer to finishing. We also verify that, for a given X% interval, approximately X% of runners actually finish within that interval, which gives validity to our interpretation of the credible intervals.</p>
<p>We can plot the posterior distributions at each iteration on a single plot; an example of which is shown in Figure 3.</p>
<center>
<div class="figure">
<img src="intervals.png" width="440" alt="" />
<p class="caption"><em>Fig.2 - Mean 50% (teal), 80% (purple) and 95% (red) credible interval sizes at different stages of the race for quantile (dotted) and Bayesian regression (solid).</em></p>
</div>
</center>
<center>
<div class="figure">
<img src="AppPlot1.png" width="1120" alt="" />
<p class="caption"><em>Fig.2 - Table (left) and plot (right) of finish time prediction distributions and intervals for all splits. The vertical dotted line denotes the actual finish time.</em></p>
</div>
</center>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>The QR code above links to our app, containing functionality to automatically generate a finish time distribution plot given your own splits. This app can be used to get a better sense of uncertainty than the traditional estimates given by the BAA during the marathon.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-2" class="csl-entry">
Allen, Dechow, Eric J. 2014. <em>Reference-Dependent Preferences: Evidence from Marathon Runners</em>.
</div>
<div id="ref-1" class="csl-entry">
Gelman, Carlin, Andrew. 2021. <em>Bayesian Data Analysis</em>. CRC Press.
</div>
<div id="ref-3" class="csl-entry">
Kwong, &amp; Nadarajah, H. S. 2019. <em>Modelling Dynamics of Marathons – a Mixture Model Approach</em>.
</div>
</div>
</div>
</div>
</div>

</div>



</body>
</html>
